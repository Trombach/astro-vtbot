---
layout: src/layouts/NavBarMdxLayout.astro
title: Jotter
---

# The Jotter

This page is the entry point notes I took about things I learned while working with view transitions.

## Contents

## Page Navigation

This page is also a view transition demo: in the lower right corner, there is a navigaton bar that leads you to the other pages. This navigation bar is a peristed element that is shared between all pages using `transition:persist='name'`. The current page is highlighted in the navigation bar and a listener for the `astro:after-swap` event givs the current entry the `active` CSS class for styling.

```astro
<aside transition:persist="aside">
	<p>Docs</p>
	<ul>...</ul>
</aside>
<script>
	document.addEventListener('astro:after-swap', activate);
	function activate() {
		document.querySelectorAll('aside li a').forEach((a) => {
			if (a instanceof HTMLAnchorElement) {
				a.parentElement?.classList[location.href.endsWith(a.href) ? 'add' : 'remove']('active');
			}
		});
	}
	activate();
</script>
```

## Events

Two events can be used to influence the processing of view transitions, and three other events can be used to react to the end of the three processing phases.

```
'astro:before-preparation' // customize the preparation phase
'astro:after-preparation' // notification of the end of the preparation phase
'astro:before-swap' // customize the swap phase
'astro:after-swap' // notification of the end of the swap phase
'astro:page-load' // notification of the end of the completion phase
```

[Goto the Events page](/docs/Events/)

## A Practitioner's Guide to View Transitions

How to decide which event to use for a given situation? Let's look at typical use cases to find out.

[Goto the Practitioner's Guide](/docs/Practical/)

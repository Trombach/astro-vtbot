---
import type { Props as StarlightProps } from '@astrojs/starlight/props';
import { ViewTransitions } from 'astro:transitions';

import ReplacementSwap from '../ReplacementSwap.astro';
import Connector from './StarlightConnector.astro';

export interface Props extends StarlightProps {
	viewTransitionsFallback?: Parameters<typeof ViewTransitions>[0]['fallback'];
	'data-astro-transition-scope'?: string;
}
const { viewTransitionsFallback, 'data-astro-transition-scope': mainTransitionScope } = Astro.props;
---

<ViewTransitions fallback={viewTransitionsFallback} />
<ReplacementSwap rootAttributesToPreserve="data-theme" />
{mainTransitionScope && <meta name="vtbot-main-transition-scope" content={mainTransitionScope} />}
<Connector />
<slot />
